<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Pia & Jeronimo Counter</title>
    <link rel="icon" type="image/png" href="/images/favicon.jpg">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Event Details:</h1>
    <p id="eventDetails"></p>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const text = document.getElementById("eventDetails")
            async function getData() {
                try {
                    const response = await fetch("/.netlify/functions/eventData")
                    const jsonData = await response.json();

                    jsonData.forEach(obj => {
                        // Convert JSON object to readable text
                        const objText = JSON.stringify(obj, null, 2); // Indent with 2 spaces

                        // Create a <pre> element to preserve formatting
                        const pre = document.createElement('pre');
                        pre.textContent = objText;

                        // Append the <pre> element to the container
                        eventDetails.appendChild(pre);
                    });

                    //text.textContent = JSON.stringify(jsonData);

                }

                catch (error) {
                    console.error('Error:', error);
                }
            };
            getData();
        })

    </script>
</body>

</html>